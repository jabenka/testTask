# Система управления банковскими картами

Описать данный файл по ТЗ

**Проделанная работа:**  
REST API для банковских карт
Реализованы CRUD-операции  
Добавлена валидация и обработка ошибок  
Создана Liquibase миграция для таблицы bank_cards    
API-спецификация (OpenAPI/Swagger) в папке /docs  
Markdown-документация в /src/main/gen  
Описаны endpoints, примеры запросов и ответов  
Собран образ приложения (Dockerfile)   
Настроен docker-compose.yml для совместного запуска:  
PostgreSQL контейнер  
Spring Boot приложение  
Настроены volumes для хранения данных БД   
74 успешных теста  
---
**Инструкция по запуску:**
1. Установить Docker и Docker Compose если они не установлены
2. Склонировать репозиторий 
3. перейти в папку проекта `cd /path/to/project`
4. запустить docker-compose.yml командой `docker-compose up --build`
5. Проверять работу на http://localhost:8081/ для поддерживаемых запросов смотреть документацию
---
**Возможные ошибки:**
1. Если при запуске docker-compose.yml выдает ошибку `Error response from daemon: Ports are not available: listen tcp 0.0.0.0:8081: bind: address already in use`
**Решение:** найти процесс, который использует порт 8081 и закрыть его командой `kill -9 <PID>` или systemctl stop имя процесса
2. Если при запуске контейнеров в логах базы видно что не создается необходимая база данных **Решение:** что-то заранее запустило неполный образ в следствии чего был создан том,но база данных не успела создать базу данных,помогут следующие команды докера `docker compose down --rmi all  docker volume prune(с этой командой аккуратно,она удалит все неиспользуемые тома)  docker compose up --build` 
   3. Приложение падает а в логах connection refused **Решение:** конфликт между локальной и развертываемой базой,надо убить процесс локальной базы(systemctl stop postgresql например)
   *как посмотреть логи:* `docker ps-показывает все активные контейнеры,потом docker logs <имя контейнера> или <id контейнера> docker ps -a покажет вообще все контейнеры`
   *также в репозитории лежит postmen колекция которую можно импортировать себе и смотреть что возвращает и что принимает каждый запрос(переменных нет поэтому все будет работать сразу*
---
**Возможные доработки:**
1.При дальнейшем использовании без Actuator будет сложно,но в тз о нем ни слова поэтому не был включен
2.Расширение доменной области -> переход на микросервисную архитектуру